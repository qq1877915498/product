"use strict";var key,str=$.cookie("carts")?$.cookie("carts"):"",obj=strToObj(str);for(key in obj){var good=obj[key];$(".itembox").append('<div class="listHead" data-good-id="'.concat(key,'">\n        <span class="col check"><input type="checkbox"  id="">1</span>\n        <span class="col img"><img src="../img/phone10.jpg" alt=""></span>\n        <span class="col name">').concat(good.name,'</span>\n        <span class="col price">').concat(good.price,'</span>\n        <span class="col num num1"><div id="numbtn"><a>-</a><input type="text" value="').concat(good.num,'" id=""><a>+</a></div></span>\n        <span class="col total">').concat(parseInt(good.price)*good.num,'å…ƒ</span>\n        <span class="col action"><a href="javascript:;">X</a></span>\n        </div>')),$(".total-price em").text(parseInt(good.price)*good.num),$(".action a").click(function(){$(".listHead").remove();var t=$(this).parents(".listHead").attr("data-good-id");delete obj[t],$.cookie("carts",JSON.stringify(obj),{expires:2,path:"/"}),Cart()}),$("#numbtn a").eq(0).click(function(){var t=$(this).parents(".listHead").attr("data-good-id"),a=strToObj($.cookie("carts")?$.cookie("carts"):"");a[t].num--,$.cookie("carts",JSON.stringify(a),{expires:2,path:"/"}),$(this).next().val(a[t].num),$(this).parents(".num1").next().text(parseInt(a[t].price)*a[t].num),Cart(),$(".total-price em").text(parseInt(a[t].price)*a[t].num)}),$("#numbtn a").eq(1).click(function(){var t=$(this).parents(".listHead").attr("data-good-id"),a=strToObj($.cookie("carts")?$.cookie("carts"):"");a[t].num++,$.cookie("carts",JSON.stringify(a),{expires:2,path:"/"}),$(this).prev().val(a[t].num),$(this).parents(".num1").next().text(parseInt(a[t].price)*a[t].num),Cart(),$(".total-price em").text(parseInt(a[t].price)*a[t].num)}),$("#numbtn input").blur(function(){var t=$(this).parents(".listHead").attr("data-good-id"),a=strToObj($.cookie("carts")?$.cookie("carts"):"");/^\d+$/.test($(this).val())?a[t].num=$(this).val():a[t].num=1,$.cookie("carts",JSON.stringify(a),{expires:2,path:"/"}),$(this).val(a[t].num),$(this).parents(".num1").next().text(parseInt(a[t].price)*a[t].num),Cart(),$(".total-price em").text(parseInt(a[t].price)*a[t].num)})}function Cart(){var t,a=strToObj($.cookie("carts")?$.cookie("carts"):""),n=0;for(t in a)n+=a[t].num;0==n&&$(".cart_num").css("display",""),$(".cart_num").text(n),$(".cart_num").css("display","block")}function strToObj(t){return t?JSON.parse(t):{}}Cart();